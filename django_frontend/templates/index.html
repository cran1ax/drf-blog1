{% extends 'base.html' %}

{% block content %}
<h2>🌟 Welcome to Django Blog</h2>

{% if api_error %}
    <div class="error">
        ⚠️ {{ api_error }}
    </div>
{% endif %}

<h3>📰 Recent Posts</h3>
<div id="recent-posts">
    {% if recent_posts %}
        {% for post in recent_posts %}
            <div class="post-card">
                <h4><a href="{% url 'post_detail' post.id %}">{{ post.title }}</a></h4>
                <div class="post-meta">
                    <!-- Note: API data might use underscores, template filters handle dates -->
                    👤 By {{ post.author.username }} | 📅 {{ post.created_at|date:"F d, Y" }}
                </div>
            </div>
        {% endfor %}
    {% elif not api_error %}
        <div class="error">📭 No recent posts found.</div>
    {% endif %}
</div>
{% endblock %}